# Protocols
## <span style="color:royalblue"> **Materials** </span>
General chemical reagents were purchased from Sigma-Aldrich, Sangon Biotech Co., Ltd. (Shanghai, China). High-performance liquid chromatography (HPLC) was performed on an Agilent 1260 Infinity apparatus with a diode array detector (DAD). HPLC-MS experiments were performed on Agilent 1290 HPLC system coupled with a Thermo Electron LTQ-Orbitrap XL mass spectrometer. All chemicals and solvents were of analytical or chromatographic grade. The resuspended cells were lysed by an ultrasonic processors VCX750 (Sonics and Materials Inc, PA, USA). Common biochemicals and chemicals were purchased from standard sources for laboratory use.
## <span style="color:royalblue"> **Bacterial strains, plasmids, and culture conditionsn** </span>
All strains and plasmids used in this study are listed in Supplemental Table S2. Escherichia coli DH5α was used for general cloning. Escherichia coli BL21 (DE3) was used as a host for protein expression. E. coli strains were routinely cultured in Luria–Bertani (LB) liquid medium at 37 °C, 220 rpm, or LB agar plate at 37 °C. When appropriate, kanamycin (Kan; 100 μg mL-1 for E. coli) was added to the medium.
## <span style="color:royalblue"> **DNA isolation and manipulation** </span>
DNA manipulations were performed using standard procedures or the manufacturer’s protocols for E. coli. Plasmid extraction, DNA purification and gel extraction were carried out using commercial kits (Omega Biotech Co., Ltd., Beijing, China). Oligonucleotide synthesis and DNA sequencing were performed at Tsingke Biotech Co., Ltd. (Beijing, China). PCR reactions were carried out using Pfu DNA polymerase (TIANGEN Biotech Co., Ltd., Beijing, China). Western blot was carried out according to the protocols provided by the Shanghai Universal Biotech Co.,Ltd. (Shanghai China). His-Tag (27E8) Mouse mAb (HRP Conjugate) and Anti-mouse IgG, HRP-linked Antibody were purchasedfrom Shanghai Universal Biotech Co.,Ltd. (Shanghai China). 
## <span style="color:royalblue"> **Bioinformatics analysis** </span>
Software phyre2 (http://www.sbg.bio.ic.ac.uk/phyre2 )[28] was used to predict the protein structure of BmmGT1. Sequence comparisons and database searches were accomplished with BLAST programs (http://blast.ncbi.nlm.nih.gov/Blast.cgi)[35]. The amino acid sequences of 2-related proteins were exported from the BLAST database at the National Centre for Biotechnology Information, and aligned using the ClustalW software[36].
## <span style="color:royalblue"> **Site-directed mutagenesis of BmmGT1** </span>
The reverse complementary primers with mutation sites were designed and listed in Table S2. The pET28a plasmids carrying bmmGT1 gene with mutation sites was linearized by reverse PCR using 2 × Phanta® Flash Master Mix DNA polymerase.The linear plasmids were ligated to circular molecules by seamless cloning using ClonExpress® Ultra One Step Cloning Kit (Nanjing, China).The introduced mutations were verified by DNA sequencing.
## <span style="color:royalblue"> **Screening of BmmGT1 variants** </span>
Single colonies of E.coilBL21 (DE3) strain containing protein expression vectors were inoculated were inoculated in 100 μL ofLB supplemented with 100 μg/mL kanamycin in 96-well platesand grown at 37 °C for 12 h. Then, 2% of the E. coli culturevolume was transferred to 500 μL of LB supplemented with 100 μg/mL kanamycin in a 1.5 mL microtube and grown to anoptical density atOD600of 0.5–0.6 at 37 °C and220 rpm. Next, protein expression was induced overnight bythe addition of 0.2 mM isopropyl β-D-1-thiogalactopyranoside (IPTG) and culturing at 16 °C and 220 rpm. After centrifugation of the cultures at 13,000 rpmand 4 °C for 5 min, the resulting cell pellets were resuspended in 100 μL of bacterial protein extraction reagent (CellBiolabs Inc., San Diego, CA, USA), incubated for 15 min atroom temperature, and centrifuged at 12,000×g for 10 min.The resulting supernatants were used as the crude enzyme.Analytical glucosylation reactions were performed in a totalvolume of 50 μL containing 20 μL of crude enzyme, 200μM3-acetyl-7-hydroxycoumarin, 2 mM UDP-D-glucose, 2 mM MgCl2, and 50 mM Tris-HCl (pH 8.5). The absorbance was measured under UV340nmper 1 min during the 40 min reaction time using spectrophotometer (BioTeck Co., Ltd., USA). 
## <span style="color:royalblue"> **Expression and purification of BmmGT1 enzymes** </span>
Expression of the recombinant protein BmmGT1 and its mutants were induced at an OD600 of approximately 0.6 by addition of IPTG (0.2 mM final concentration), and cultivation was continued for additional 16 h at 16 °C. Cells were harvested by centrifugation at 10,000 g, washed twice and resuspended in Tris-HCl buffer (50 mM, pH 7.5). The resuspended cells were lysed by sonication in an ice-water bath with an ultrasonic processors VCX750 (Sonics & Materials Inc, PA, USA), and centrifuged at 18000 rpm for 1 h at 4 °C. The supernatant was applied to a HisTrap HP column (1 mL, GE Healthcare) and the N-(His)6-tagged BmmGT1 protein was eluted with a linear gradient of imidazole (10–500 mM) in the binding buffer using a ÄKTA Purifier system. The purified proteins was desalted using Ultrafree ®-4 Centrifugal Filter Unit (Millipore, Bedford, MA, USA), and stored in Tris-HCl (50 mM, pH 8.0) buffer containing glycerol (10 %) at -80 ºC until use.
## <span style="color:royalblue"> **In vitro assays using purified enzymes** </span>
The concentrations of purified proteins were determined by the Bradford method using bovine serum albumin (BSA) as standard. For the glucosylation reactions of 3-acetyl-7-hydroxycoumarin, a typical reaction (50 μL) consists of 3-acetyl-7-hydroxycoumarin (200 μM), UDP-D-glucose (2 mM), BmmGT1 (2 μM), and MgCl2 (10 mM) in Tris-HCl buffer (50 mM, pH 8.5). The reaction mixtures were incubated at 30 °C for 40 min, and were quenched by the addition of ACN (50 μL), and the denatured protein was removed by centrifugation. The assays were monitored by HPLC analysis, using a C18, YMC pack ODS-AQ column (5 μm, 150 × 4.6 mm) with UV detection at 340 nm with a gradient program (0-5 min, 10% B; 5-20 min, 10 % to 25 % B; 20 - 35 min, 100% B; 1 mL min-1). For the glucosylation reactions of other sugar acceptors, a typical reaction (50 μL) consists of sugar acceptors (100 μM MLN A or 250 μM piericidin A or 500 μM 3.4-dichloroaniline), UDP-D-glucose (2 mM), BmmGT1 (0.03 μM for MLNA glucosylation, 0.025 μM for piericidin A glucosylation, 1 μM for 3.4-dichloroaniline glucosylation), and MgCl2 (10 mM) in Tris-HCl buffer (50 mM, pH 8.5). The reaction mixtures were incubated at 30 °C for 30-150 min (30 min for MLNA and 3.4-dichloroaniline glucosylation, 150 min for piericidin A glucosylation), and were quenched by the addition of ACN (50 μL), and the denatured protein was removed by centrifugation. The assays were monitored by HPLC analysis, using a C18, YMC pack ODS-AQ column (5 μm, 150 × 4.6 mm) with UV detection at 340 nm with a gradient program (0-5 min, 40% B; 5-25 min, 40 % to 90 % B; 25 - 32 min, 100% B; 1 mL min-1). The corresponding glucosylated compounds were identified by LC-HRMS(Fig 3 and S9). 
